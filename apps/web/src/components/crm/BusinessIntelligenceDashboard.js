"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = BusinessIntelligenceDashboard;
var jsx_runtime_1 = require("react/jsx-runtime");
// React import removed (not needed with new JSX transform)
var Card_1 = __importDefault(require("@/components/ui/Card"));
var ui_1 = require("@/components/ui");
var lucide_react_1 = require("lucide-react");
function BusinessIntelligenceDashboard(_a) {
    var _customerId = _a.customerId;
    // Mock business intelligence data
    var biData = {
        churnRisk: {
            score: 0.15,
            risk: 'Low',
            factors: ['High satisfaction score', 'Recent service completion', 'Active contract'],
            trend: 'decreasing'
        },
        customerLifetimeValue: {
            current: 12500,
            projected: 18500,
            trend: 'increasing'
        },
        satisfactionScore: {
            current: 4.8,
            trend: 'stable',
            history: [4.5, 4.6, 4.7, 4.8, 4.8]
        },
        pestPressure: {
            score: 0.35,
            risk: 'Medium',
            factors: ['Seasonal increase', 'Neighborhood activity'],
            trend: 'increasing'
        },
        revenueForecast: {
            nextMonth: 2500,
            nextQuarter: 7200,
            trend: 'increasing'
        },
        serviceEffectiveness: {
            score: 0.85,
            trend: 'improving'
        }
    };
    var getRiskColor = function (risk) {
        switch (risk.toLowerCase()) {
            case 'low': return 'green';
            case 'medium': return 'yellow';
            case 'high': return 'red';
            default: return 'gray';
        }
    };
    var getTrendIcon = function (trend) {
        switch (trend.toLowerCase()) {
            case 'increasing': return (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-4 w-4 text-green-500" });
            case 'decreasing': return (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingDown, { className: "h-4 w-4 text-red-500" });
            case 'stable': return (0, jsx_runtime_1.jsx)(lucide_react_1.Activity, { className: "h-4 w-4 text-blue-500" });
            default: return (0, jsx_runtime_1.jsx)(lucide_react_1.Activity, { className: "h-4 w-4 text-slate-500" });
        }
    };
    return ((0, jsx_runtime_1.jsxs)(Card_1.default, { className: "p-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-6", children: [(0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 3, className: "text-slate-900", children: "Business Intelligence" }), (0, jsx_runtime_1.jsx)(ui_1.Badge, { variant: "default", className: "bg-blue-100 text-blue-800", children: "AI-Powered Insights" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-red-50 to-orange-50 p-6 rounded-lg border border-red-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "h-6 w-6 text-red-600" }), (0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900", children: "Churn Risk" })] }), getTrendIcon(biData.churnRisk.trend)] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-4", children: [(0, jsx_runtime_1.jsxs)(ui_1.Heading, { level: 2, className: "text-red-900 font-bold", children: [Math.round(biData.churnRisk.score * 100), "%"] }), (0, jsx_runtime_1.jsxs)(ui_1.Badge, { variant: "default", className: getRiskColor(biData.churnRisk.risk) === 'green' ? 'bg-green-100 text-green-800' :
                                            getRiskColor(biData.churnRisk.risk) === 'yellow' ? 'bg-yellow-100 text-yellow-800' :
                                                getRiskColor(biData.churnRisk.risk) === 'red' ? 'bg-red-100 text-red-800' :
                                                    'bg-gray-100 text-gray-800', children: [biData.churnRisk.risk, " Risk"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-700 font-medium", children: "Contributing Factors:" }), biData.churnRisk.factors.map(function (factor, index) { return ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 text-sm text-slate-600", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.CheckCircle, { className: "h-3 w-3 text-green-500" }), (0, jsx_runtime_1.jsx)("span", { children: factor })] }, index)); })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-green-50 to-blue-50 p-6 rounded-lg border border-green-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.DollarSign, { className: "h-6 w-6 text-green-600" }), (0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900", children: "Customer LTV" })] }), getTrendIcon(biData.customerLifetimeValue.trend)] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-4", children: [(0, jsx_runtime_1.jsxs)(ui_1.Heading, { level: 2, className: "text-green-900 font-bold", children: ["$", biData.customerLifetimeValue.current.toLocaleString()] }), (0, jsx_runtime_1.jsxs)(ui_1.Text, { variant: "small", className: "text-slate-600", children: ["Projected: $", biData.customerLifetimeValue.projected.toLocaleString()] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white p-3 rounded-lg", children: [(0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-700 font-medium mb-2", children: "Growth Trend" }), (0, jsx_runtime_1.jsx)("div", { className: "w-full bg-gray-200 rounded-full h-2", children: (0, jsx_runtime_1.jsx)("div", { className: "bg-green-500 h-2 rounded-full", style: { width: "".concat((biData.customerLifetimeValue.current / biData.customerLifetimeValue.projected) * 100, "%") } }) })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-6 w-6 text-blue-600" }), (0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900", children: "Satisfaction" })] }), getTrendIcon(biData.satisfactionScore.trend)] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-4", children: [(0, jsx_runtime_1.jsxs)(ui_1.Heading, { level: 2, className: "text-blue-900 font-bold", children: [biData.satisfactionScore.current, "/5.0"] }), (0, jsx_runtime_1.jsx)("div", { className: "flex items-center gap-1 mt-1", children: [1, 2, 3, 4, 5].map(function (star) { return ((0, jsx_runtime_1.jsx)("div", { className: "w-4 h-4 rounded-full ".concat(star <= biData.satisfactionScore.current
                                                ? 'bg-yellow-400'
                                                : 'bg-slate-300') }, star)); }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white p-3 rounded-lg", children: [(0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-700 font-medium mb-2", children: "Historical Trend" }), (0, jsx_runtime_1.jsx)("div", { className: "flex items-center gap-1", children: biData.satisfactionScore.history.map(function (score, index) { return ((0, jsx_runtime_1.jsx)("div", { className: "flex-1 bg-slate-200 rounded", style: { height: "".concat(score * 8, "px") } }, index)); }) })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-8", children: [(0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900 mb-4", children: "Predictive Analytics" }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg border border-purple-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Target, { className: "h-5 w-5 text-purple-600" }), (0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900", children: "Pest Pressure Prediction" })] }), getTrendIcon(biData.pestPressure.trend)] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-4", children: [(0, jsx_runtime_1.jsxs)(ui_1.Heading, { level: 3, className: "text-purple-900 font-bold", children: [Math.round(biData.pestPressure.score * 100), "%"] }), (0, jsx_runtime_1.jsxs)(ui_1.Badge, { variant: "default", className: getRiskColor(biData.pestPressure.risk) === 'green' ? 'bg-green-100 text-green-800' :
                                                    getRiskColor(biData.pestPressure.risk) === 'yellow' ? 'bg-yellow-100 text-yellow-800' :
                                                        getRiskColor(biData.pestPressure.risk) === 'red' ? 'bg-red-100 text-red-800' :
                                                            'bg-gray-100 text-gray-800', children: [biData.pestPressure.risk, " Risk"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-700 font-medium", children: "Risk Factors:" }), biData.pestPressure.factors.map(function (factor, index) { return ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 text-sm text-slate-600", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "h-3 w-3 text-orange-500" }), (0, jsx_runtime_1.jsx)("span", { children: factor })] }, index)); })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-lg border border-emerald-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.BarChart3, { className: "h-5 w-5 text-emerald-600" }), (0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900", children: "Revenue Forecast" })] }), getTrendIcon(biData.revenueForecast.trend)] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-600", children: "Next Month" }), (0, jsx_runtime_1.jsxs)(ui_1.Heading, { level: 4, className: "text-emerald-900 font-bold", children: ["$", biData.revenueForecast.nextMonth.toLocaleString()] })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-600", children: "Next Quarter" }), (0, jsx_runtime_1.jsxs)(ui_1.Heading, { level: 4, className: "text-emerald-900 font-bold", children: ["$", biData.revenueForecast.nextQuarter.toLocaleString()] })] })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-amber-50 to-orange-50 p-6 rounded-lg border border-amber-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.CheckCircle, { className: "h-5 w-5 text-amber-600" }), (0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900", children: "Service Effectiveness" })] }), getTrendIcon(biData.serviceEffectiveness.trend)] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-4", children: [(0, jsx_runtime_1.jsxs)(ui_1.Heading, { level: 3, className: "text-amber-900 font-bold", children: [Math.round(biData.serviceEffectiveness.score * 100), "%"] }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-600", children: "Treatment success rate" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white p-3 rounded-lg", children: [(0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-700 font-medium mb-2", children: "Effectiveness Trend" }), (0, jsx_runtime_1.jsx)("div", { className: "w-full bg-gray-200 rounded-full h-3", children: (0, jsx_runtime_1.jsx)("div", { className: "bg-amber-500 h-3 rounded-full", style: { width: "".concat(biData.serviceEffectiveness.score * 100, "%") } }) })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-8 p-6 bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg border border-indigo-200", children: [(0, jsx_runtime_1.jsx)(ui_1.Heading, { level: 4, className: "text-slate-900 mb-4", children: "AI Recommendations" }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-white p-4 rounded-lg", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.CheckCircle, { className: "h-4 w-4 text-green-500" }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "body", className: "font-medium", children: "Proactive Service" })] }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-600", children: "Schedule preventive treatment within 30 days to maintain low pest pressure." })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white p-4 rounded-lg", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.DollarSign, { className: "h-4 w-4 text-blue-500" }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "body", className: "font-medium", children: "Upsell Opportunity" })] }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-600", children: "Customer shows high satisfaction - consider premium service upgrade." })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white p-4 rounded-lg", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-4 w-4 text-purple-500" }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "body", className: "font-medium", children: "Retention Strategy" })] }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-600", children: "Send personalized thank you note and satisfaction survey." })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white p-4 rounded-lg", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Target, { className: "h-4 w-4 text-orange-500" }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "body", className: "font-medium", children: "Seasonal Alert" })] }), (0, jsx_runtime_1.jsx)(ui_1.Text, { variant: "small", className: "text-slate-600", children: "Anticipate increased pest activity in spring - prepare treatment plan." })] })] })] })] }));
}
