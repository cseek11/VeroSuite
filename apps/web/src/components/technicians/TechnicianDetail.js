"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var jsx_runtime_1 = require("react/jsx-runtime");
var react_router_dom_1 = require("react-router-dom");
var useTechnicians_1 = require("../../hooks/useTechnicians");
var technician_1 = require("../../types/technician");
var Button_1 = __importDefault(require("../ui/Button"));
var Card_1 = __importDefault(require("../ui/Card"));
var TechnicianDetail = function () {
    var _a, _b, _c, _d, _e, _f, _g;
    var navigate = (0, react_router_dom_1.useNavigate)();
    var id = (0, react_router_dom_1.useParams)().id;
    var _h = (0, useTechnicians_1.useTechnician)(id || ''), technician = _h.data, isLoading = _h.isLoading, error = _h.error;
    var getStatusBadge = function (status) {
        var _a;
        var statusColors = (_a = {},
            _a[technician_1.TechnicianStatus.ACTIVE] = 'bg-green-100 text-green-800',
            _a[technician_1.TechnicianStatus.INACTIVE] = 'bg-gray-100 text-gray-800',
            _a[technician_1.TechnicianStatus.TERMINATED] = 'bg-red-100 text-red-800',
            _a[technician_1.TechnicianStatus.ON_LEAVE] = 'bg-yellow-100 text-yellow-800',
            _a);
        return ((0, jsx_runtime_1.jsx)("span", { className: "px-3 py-1 rounded-full text-sm font-medium ".concat(statusColors[status]), children: status.replace('_', ' ').toUpperCase() }));
    };
    var getEmploymentTypeBadge = function (type) {
        var _a;
        var typeColors = (_a = {},
            _a[technician_1.EmploymentType.FULL_TIME] = 'bg-blue-100 text-blue-800',
            _a[technician_1.EmploymentType.PART_TIME] = 'bg-purple-100 text-purple-800',
            _a[technician_1.EmploymentType.CONTRACTOR] = 'bg-orange-100 text-orange-800',
            _a[technician_1.EmploymentType.TEMPORARY] = 'bg-pink-100 text-pink-800',
            _a);
        return ((0, jsx_runtime_1.jsx)("span", { className: "px-3 py-1 rounded-full text-sm font-medium ".concat(typeColors[type]), children: type.replace('_', ' ').toUpperCase() }));
    };
    var formatDate = function (dateString) {
        return new Date(dateString).toLocaleDateString();
    };
    if (isLoading) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center h-64", children: (0, jsx_runtime_1.jsx)("div", { className: "text-lg", children: "Loading technician details..." }) }));
    }
    if (error || !technician) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: "text-center py-8", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-red-600 mb-4", children: "Error loading technician details" }), (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: function () { return navigate('/technicians'); }, variant: "outline", children: "Back to List" })] }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { className: "max-w-6xl mx-auto space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("h1", { className: "text-2xl font-bold text-gray-900", children: [(_a = technician.user) === null || _a === void 0 ? void 0 : _a.first_name, " ", (_b = technician.user) === null || _b === void 0 ? void 0 : _b.last_name] }), (0, jsx_runtime_1.jsx)("p", { className: "text-gray-600", children: (_c = technician.user) === null || _c === void 0 ? void 0 : _c.email })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex space-x-3", children: [(0, jsx_runtime_1.jsx)(Button_1.default, { onClick: function () { return navigate("/technicians/".concat(technician.id, "/edit")); }, variant: "outline", children: "Edit" }), (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: function () { return navigate('/technicians'); }, variant: "outline", children: "Back to List" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "lg:col-span-2 space-y-6", children: [(0, jsx_runtime_1.jsxs)(Card_1.default, { children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold mb-4", children: "Basic Information" }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Employee ID" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.employee_id || 'Not assigned' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Hire Date" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: formatDate(technician.hire_date) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Position" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.position || 'Not specified' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Department" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.department || 'Not specified' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Status" }), (0, jsx_runtime_1.jsx)("div", { className: "mt-1", children: getStatusBadge(technician.status) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Employment Type" }), (0, jsx_runtime_1.jsx)("div", { className: "mt-1", children: getEmploymentTypeBadge(technician.employment_type) })] })] })] }), (0, jsx_runtime_1.jsxs)(Card_1.default, { children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold mb-4", children: "Contact Information" }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Email" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: (_d = technician.user) === null || _d === void 0 ? void 0 : _d.email })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Phone" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: ((_e = technician.user) === null || _e === void 0 ? void 0 : _e.phone) || 'Not provided' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Technician Number" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: ((_f = technician.user) === null || _f === void 0 ? void 0 : _f.technician_number) || 'Not assigned' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Pesticide License" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: ((_g = technician.user) === null || _g === void 0 ? void 0 : _g.pesticide_license_number) || 'Not provided' })] })] })] }), (0, jsx_runtime_1.jsxs)(Card_1.default, { children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold mb-4", children: "Address Information" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [technician.address_line1 && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.address_line1 })), technician.address_line2 && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.address_line2 })), (technician.city || technician.state || technician.postal_code) && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: [technician.city, technician.state, technician.postal_code].filter(Boolean).join(', ') })), technician.country && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.country })), !technician.address_line1 && !technician.city && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-500 italic", children: "No address information provided" }))] })] }), (0, jsx_runtime_1.jsxs)(Card_1.default, { children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold mb-4", children: "Personal Information" }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Date of Birth" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.date_of_birth ? formatDate(technician.date_of_birth) : 'Not provided' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Social Security Number" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.social_security_number ? '***-**-' + technician.social_security_number.slice(-4) : 'Not provided' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Driver License Number" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.driver_license_number || 'Not provided' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Driver License State" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.driver_license_state || 'Not provided' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "License Expiry" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.driver_license_expiry ? formatDate(technician.driver_license_expiry) : 'Not provided' })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)(Card_1.default, { children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold mb-4", children: "Emergency Contact" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Name" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.emergency_contact_name || 'Not provided' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Phone" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.emergency_contact_phone || 'Not provided' })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Relationship" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: technician.emergency_contact_relationship || 'Not provided' })] })] })] }), (0, jsx_runtime_1.jsxs)(Card_1.default, { children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold mb-4", children: "System Information" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Created" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: formatDate(technician.created_at) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("label", { className: "block text-sm font-medium text-gray-500", children: "Last Updated" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-900", children: formatDate(technician.updated_at) })] })] })] }), (0, jsx_runtime_1.jsxs)(Card_1.default, { children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold mb-4", children: "Quick Actions" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(Button_1.default, { onClick: function () { return navigate("/technicians/".concat(technician.id, "/edit")); }, variant: "primary", className: "w-full", children: "Edit Technician" }), (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: function () { return navigate('/work-orders'); }, variant: "outline", className: "w-full", children: "View Work Orders" }), (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: function () { return navigate('/technicians'); }, variant: "outline", className: "w-full", children: "Back to List" })] })] })] })] })] }));
};
exports.default = TechnicianDetail;
