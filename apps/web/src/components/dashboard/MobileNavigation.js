"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MobileNavigation = MobileNavigation;
var jsx_runtime_1 = require("react/jsx-runtime");
var react_1 = require("react");
var lucide_react_1 = require("lucide-react");
var useDensityMode_1 = require("@/hooks/useDensityMode");
function MobileNavigation(_a) {
    var _b = _a.currentPage, currentPage = _b === void 0 ? 'dashboard' : _b, onNavigate = _a.onNavigate, onSearch = _a.onSearch, onToggleDensity = _a.onToggleDensity, onToggleView = _a.onToggleView, onToggleFullscreen = _a.onToggleFullscreen, _c = _a.isFullscreen, isFullscreen = _c === void 0 ? false : _c, _d = _a.notifications, notifications = _d === void 0 ? 0 : _d, user = _a.user, onLogout = _a.onLogout, _e = _a.className, className = _e === void 0 ? '' : _e;
    var _f = (0, react_1.useState)(false), isMenuOpen = _f[0], setIsMenuOpen = _f[1];
    var _g = (0, react_1.useState)(false), isSearchOpen = _g[0], setIsSearchOpen = _g[1];
    var _h = (0, react_1.useState)(''), searchQuery = _h[0], setSearchQuery = _h[1];
    var _j = (0, react_1.useState)('main'), activeTab = _j[0], setActiveTab = _j[1];
    var _k = (0, react_1.useState)('grid'), viewMode = _k[0], setViewMode = _k[1];
    var _l = (0, useDensityMode_1.useDensityMode)(), densityMode = _l.densityMode, isMobile = _l.isMobile;
    // Navigation items
    var navigationItems = [
        { id: 'dashboard', label: 'Dashboard', icon: lucide_react_1.Home, badge: null },
        { id: 'analytics', label: 'Analytics', icon: lucide_react_1.BarChart3, badge: null },
        { id: 'customers', label: 'Customers', icon: lucide_react_1.Users, badge: null },
        { id: 'schedule', label: 'Schedule', icon: lucide_react_1.Calendar, badge: null },
        { id: 'settings', label: 'Settings', icon: lucide_react_1.Settings, badge: null }
    ];
    // Close menu when route changes
    (0, react_1.useEffect)(function () {
        setIsMenuOpen(false);
        setIsSearchOpen(false);
    }, [currentPage]);
    // Handle navigation
    var handleNavigate = (0, react_1.useCallback)(function (page) {
        setActiveTab('main');
        if (onNavigate)
            onNavigate(page);
        setIsMenuOpen(false);
    }, [onNavigate]);
    // Handle search
    var handleSearch = (0, react_1.useCallback)(function (query) {
        setSearchQuery(query);
        if (onSearch)
            onSearch(query);
    }, [onSearch]);
    // Handle search submit
    var handleSearchSubmit = (0, react_1.useCallback)(function (e) {
        e.preventDefault();
        handleSearch(searchQuery);
        setIsSearchOpen(false);
    }, [searchQuery, handleSearch]);
    // Handle density toggle
    var handleToggleDensity = (0, react_1.useCallback)(function () {
        if (onToggleDensity)
            onToggleDensity();
    }, [onToggleDensity]);
    // Handle view toggle
    var handleToggleView = (0, react_1.useCallback)(function () {
        var newView = viewMode === 'grid' ? 'list' : 'grid';
        setViewMode(newView);
        if (onToggleView)
            onToggleView(newView);
    }, [viewMode, onToggleView]);
    // Handle fullscreen toggle
    var handleToggleFullscreen = (0, react_1.useCallback)(function () {
        if (onToggleFullscreen)
            onToggleFullscreen();
    }, [onToggleFullscreen]);
    // Handle logout
    var handleLogout = (0, react_1.useCallback)(function () {
        if (onLogout)
            onLogout();
        setIsMenuOpen(false);
    }, [onLogout]);
    // Get current navigation item
    var currentItem = navigationItems.find(function (item) { return item.id === currentPage; });
    return ((0, jsx_runtime_1.jsxs)("div", { className: "mobile-navigation ".concat(className), children: [(0, jsx_runtime_1.jsxs)("div", { className: "mobile-nav-bar", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between h-14 px-4 bg-white border-b border-gray-200", children: [(0, jsx_runtime_1.jsx)("button", { onClick: function () { return setIsMenuOpen(!isMenuOpen); }, className: "p-2 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation", "aria-label": "Open menu", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Menu, { className: "w-6 h-6" }) }), (0, jsx_runtime_1.jsx)("div", { className: "flex-1 text-center", children: (0, jsx_runtime_1.jsx)("h1", { className: "text-lg font-semibold text-gray-900 truncate", children: (currentItem === null || currentItem === void 0 ? void 0 : currentItem.label) || 'Dashboard' }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2", children: [(0, jsx_runtime_1.jsx)("button", { onClick: function () { return setIsSearchOpen(!isSearchOpen); }, className: "p-2 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation", "aria-label": "Search", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "w-6 h-6" }) }), (0, jsx_runtime_1.jsxs)("button", { className: "relative p-2 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation", "aria-label": "Notifications", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Bell, { className: "w-6 h-6" }), notifications > 0 && ((0, jsx_runtime_1.jsx)("span", { className: "absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center", children: notifications > 99 ? '99+' : notifications }))] }), (0, jsx_runtime_1.jsx)("button", { onClick: function () { return setActiveTab('profile'); }, className: "p-1 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation", "aria-label": "User menu", children: (user === null || user === void 0 ? void 0 : user.avatar) ? ((0, jsx_runtime_1.jsx)("img", { src: user.avatar, alt: user.name, className: "w-8 h-8 rounded-full" })) : ((0, jsx_runtime_1.jsx)("div", { className: "w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.User, { className: "w-4 h-4 text-white" }) })) })] })] }), isSearchOpen && ((0, jsx_runtime_1.jsx)("div", { className: "px-4 py-2 bg-gray-50 border-b border-gray-200", children: (0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSearchSubmit, className: "flex items-center space-x-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex-1 relative", children: [(0, jsx_runtime_1.jsx)("input", { type: "text", value: searchQuery, onChange: function (e) { return setSearchQuery(e.target.value); }, placeholder: "Search...", className: "w-full px-3 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent", autoFocus: true }), (0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "absolute left-3 top-2.5 w-4 h-4 text-gray-400" })] }), (0, jsx_runtime_1.jsx)("button", { type: "button", onClick: function () { return setIsSearchOpen(false); }, className: "p-2 hover:bg-gray-200 rounded-lg transition-colors", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-4 h-4" }) })] }) }))] }), isMenuOpen && ((0, jsx_runtime_1.jsx)("div", { className: "mobile-side-menu", children: (0, jsx_runtime_1.jsxs)("div", { className: "fixed inset-0 z-50 flex", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex-1 bg-black/50", onClick: function () { return setIsMenuOpen(false); } }), (0, jsx_runtime_1.jsxs)("div", { className: "w-80 bg-white shadow-xl flex flex-col", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-4 border-b border-gray-200", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold", children: "Menu" }), (0, jsx_runtime_1.jsx)("button", { onClick: function () { return setIsMenuOpen(false); }, className: "p-2 hover:bg-gray-100 rounded-lg transition-colors", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-5 h-5" }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex border-b border-gray-200", children: [(0, jsx_runtime_1.jsx)("button", { onClick: function () { return setActiveTab('main'); }, className: "flex-1 py-3 px-4 text-sm font-medium transition-colors ".concat(activeTab === 'main'
                                                ? 'text-purple-600 border-b-2 border-purple-600 bg-purple-50'
                                                : 'text-gray-600 hover:text-gray-900'), children: "Main" }), (0, jsx_runtime_1.jsx)("button", { onClick: function () { return setActiveTab('tools'); }, className: "flex-1 py-3 px-4 text-sm font-medium transition-colors ".concat(activeTab === 'tools'
                                                ? 'text-purple-600 border-b-2 border-purple-600 bg-purple-50'
                                                : 'text-gray-600 hover:text-gray-900'), children: "Tools" }), (0, jsx_runtime_1.jsx)("button", { onClick: function () { return setActiveTab('profile'); }, className: "flex-1 py-3 px-4 text-sm font-medium transition-colors ".concat(activeTab === 'profile'
                                                ? 'text-purple-600 border-b-2 border-purple-600 bg-purple-50'
                                                : 'text-gray-600 hover:text-gray-900'), children: "Profile" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1 overflow-y-auto", children: [activeTab === 'main' && ((0, jsx_runtime_1.jsx)("div", { className: "p-4 space-y-2", children: navigationItems.map(function (item) { return ((0, jsx_runtime_1.jsxs)("button", { onClick: function () { return handleNavigate(item.id); }, className: "w-full flex items-center space-x-3 px-3 py-3 rounded-lg transition-colors ".concat(currentPage === item.id
                                                    ? 'bg-purple-100 text-purple-700'
                                                    : 'hover:bg-gray-100 text-gray-700'), children: [(0, jsx_runtime_1.jsx)(item.icon, { className: "w-5 h-5" }), (0, jsx_runtime_1.jsx)("span", { className: "font-medium", children: item.label }), item.badge && ((0, jsx_runtime_1.jsx)("span", { className: "ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full", children: item.badge }))] }, item.id)); }) })), activeTab === 'tools' && ((0, jsx_runtime_1.jsx)("div", { className: "p-4 space-y-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-medium text-gray-900", children: "View Controls" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: handleToggleView, className: "w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-3", children: [viewMode === 'grid' ? (0, jsx_runtime_1.jsx)(lucide_react_1.Grid, { className: "w-4 h-4" }) : (0, jsx_runtime_1.jsx)(lucide_react_1.List, { className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", children: "View Mode" })] }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-500 capitalize", children: viewMode })] }), (0, jsx_runtime_1.jsxs)("button", { onClick: handleToggleDensity, className: "w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Grid, { className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", children: "Density" })] }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-500 capitalize", children: densityMode })] }), (0, jsx_runtime_1.jsxs)("button", { onClick: handleToggleFullscreen, className: "w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-3", children: [isFullscreen ? (0, jsx_runtime_1.jsx)(lucide_react_1.Minimize2, { className: "w-4 h-4" }) : (0, jsx_runtime_1.jsx)(lucide_react_1.Maximize2, { className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", children: "Fullscreen" })] }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-500", children: isFullscreen ? 'Exit' : 'Enter' })] })] })] }) })), activeTab === 'profile' && ((0, jsx_runtime_1.jsxs)("div", { className: "p-4 space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-3 p-3 bg-gray-50 rounded-lg", children: [(user === null || user === void 0 ? void 0 : user.avatar) ? ((0, jsx_runtime_1.jsx)("img", { src: user.avatar, alt: user.name, className: "w-12 h-12 rounded-full" })) : ((0, jsx_runtime_1.jsx)("div", { className: "w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.User, { className: "w-6 h-6 text-white" }) })), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1 min-w-0", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-sm font-medium text-gray-900 truncate", children: (user === null || user === void 0 ? void 0 : user.name) || 'User' }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 truncate", children: (user === null || user === void 0 ? void 0 : user.email) || 'user@example.com' })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)("button", { className: "w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-700", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.User, { className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", children: "Edit Profile" })] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-700", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Settings, { className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", children: "Preferences" })] }), (0, jsx_runtime_1.jsxs)("button", { onClick: handleLogout, className: "w-full flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-red-50 transition-colors text-red-600", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.LogOut, { className: "w-4 h-4" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm", children: "Logout" })] })] })] }))] })] })] }) })), isMobile && ((0, jsx_runtime_1.jsx)("div", { className: "mobile-bottom-nav", children: (0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-around h-16 bg-white border-t border-gray-200", children: navigationItems.slice(0, 5).map(function (item) { return ((0, jsx_runtime_1.jsxs)("button", { onClick: function () { return handleNavigate(item.id); }, className: "flex flex-col items-center space-y-1 p-2 rounded-lg transition-colors touch-manipulation ".concat(currentPage === item.id
                            ? 'text-purple-600 bg-purple-50'
                            : 'text-gray-600 hover:text-gray-900'), children: [(0, jsx_runtime_1.jsx)(item.icon, { className: "w-5 h-5" }), (0, jsx_runtime_1.jsx)("span", { className: "text-xs font-medium", children: item.label }), item.badge && ((0, jsx_runtime_1.jsx)("span", { className: "absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center", children: item.badge }))] }, item.id)); }) }) })), (0, jsx_runtime_1.jsx)("style", { children: "\n        .mobile-navigation {\n          position: relative;\n          z-index: 40;\n        }\n\n        .mobile-nav-bar {\n          position: sticky;\n          top: 0;\n          z-index: 50;\n          background: white;\n        }\n\n        .mobile-side-menu {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          z-index: 50;\n        }\n\n        .mobile-bottom-nav {\n          position: fixed;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          z-index: 50;\n          background: white;\n        }\n\n        /* Touch optimizations */\n        .touch-manipulation {\n          touch-action: manipulation;\n        }\n\n        /* Tablet adjustments */\n        @media (min-width: 768px) {\n          .mobile-bottom-nav {\n            display: none;\n          }\n        }\n\n        /* Desktop adjustments */\n        @media (min-width: 1024px) {\n          .mobile-navigation {\n            display: none;\n          }\n        }\n\n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          .mobile-nav-bar {\n            border-bottom-width: 2px;\n          }\n          \n          .mobile-bottom-nav {\n            border-top-width: 2px;\n          }\n        }\n\n        /* Reduced motion */\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            transition: none !important;\n          }\n        }\n      " })] }));
}
