"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DashboardFAB = void 0;
var jsx_runtime_1 = require("react/jsx-runtime");
var react_1 = require("react");
var lucide_react_1 = require("lucide-react");
var useClickAway_1 = require("@/hooks/useClickAway");
var DashboardFAB = function (props) {
    var _a = (0, react_1.useState)(false), isOpen = _a[0], setIsOpen = _a[1];
    var fabRef = (0, react_1.useRef)(null);
    var settingsPanelRef = (0, react_1.useRef)(null);
    var fileInputRef = (0, react_1.useRef)(null);
    var showCardSelector = props.showCardSelector, setShowCardSelector = props.setShowCardSelector, isCollabConnected = props.isCollabConnected, _connectionStatus = props.connectionStatus, _collaborators = props.collaborators, onToggleConnection = props.onToggleConnection, undo = props.undo, redo = props.redo, canUndo = props.canUndo, canRedo = props.canRedo, _setShowLayoutManager = props.setShowLayoutManager, zoom = props.zoom, zoomIn = props.zoomIn, zoomOut = props.zoomOut, canZoomIn = props.canZoomIn, canZoomOut = props.canZoomOut, resetView = props.resetView, _cardsCount = props.cardsCount, handleResetAll = props.handleResetAll, handleFullscreenToggle = props.handleFullscreenToggle, isMobileFullscreen = props.isMobileFullscreen, onExportLayout = props.onExportLayout, onImportLayout = props.onImportLayout;
    var toggleFAB = function () {
        setIsOpen(!isOpen);
    };
    // Click away handlers
    (0, useClickAway_1.useClickAway)(fabRef, function () { return setIsOpen(false); }, [settingsPanelRef]);
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)("div", { className: "fixed top-4 left-4 z-50", ref: fabRef, children: (0, jsx_runtime_1.jsx)("button", { onClick: toggleFAB, className: "w-12 h-12 bg-purple-500 hover:bg-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center group", title: "Dashboard Settings", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Settings, { className: "w-5 h-5 transition-transform duration-200 ".concat(isOpen ? 'rotate-180' : '') }) }) }), isOpen && ((0, jsx_runtime_1.jsxs)("div", { className: "fixed top-4 left-32 z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-4 min-w-80 max-w-96", ref: settingsPanelRef, children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-4", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Settings, { className: "w-4 h-4 text-gray-500" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Dashboard Settings" }), (0, jsx_runtime_1.jsx)("button", { onClick: function () { return setIsOpen(false); }, className: "ml-auto text-gray-400 hover:text-gray-600", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-4 h-4" }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: function () { return setShowCardSelector(!showCardSelector); }, className: "w-full flex items-center gap-2 px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "w-4 h-4" }), "Add Region"] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [isCollabConnected ? ((0, jsx_runtime_1.jsx)(lucide_react_1.Wifi, { className: "w-4 h-4 text-green-500" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.WifiOff, { className: "w-4 h-4 text-red-500" })), (0, jsx_runtime_1.jsx)("span", { className: "text-xs text-gray-600", children: isCollabConnected ? 'Connected' : 'Disconnected' })] }), (0, jsx_runtime_1.jsx)("button", { onClick: onToggleConnection, className: "ml-auto text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition-colors", children: isCollabConnected ? 'Disconnect' : 'Connect' })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: undo, disabled: !canUndo, className: "flex-1 flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Undo, { className: "w-4 h-4" }), "Undo"] }), (0, jsx_runtime_1.jsxs)("button", { onClick: redo, disabled: !canRedo, className: "flex-1 flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Redo, { className: "w-4 h-4" }), "Redo"] })] }), onExportLayout && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("label", { className: "text-xs font-medium text-gray-600", children: "Layout" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: onExportLayout, className: "flex-1 flex items-center gap-1 px-2 py-1.5 bg-blue-50 text-blue-600 border border-blue-200 rounded hover:bg-blue-100 transition-colors text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Save, { className: "w-3 h-3" }), "Export"] }), (0, jsx_runtime_1.jsxs)("label", { className: "flex-1 flex items-center gap-1 px-2 py-1.5 bg-green-50 text-green-600 border border-green-200 rounded hover:bg-green-100 transition-colors text-xs cursor-pointer", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Upload, { className: "w-3 h-3" }), "Import", (0, jsx_runtime_1.jsx)("input", { ref: fileInputRef, type: "file", accept: ".json", onChange: onImportLayout, className: "hidden" })] })] })] })), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)("label", { className: "text-xs font-medium text-gray-600", children: ["Zoom: ", Math.round(zoom * 100), "%"] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-1", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: zoomOut, disabled: !canZoomOut, className: "flex-1 flex items-center gap-1 px-2 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ZoomOut, { className: "w-3 h-3" }), "Zoom Out"] }), (0, jsx_runtime_1.jsxs)("button", { onClick: resetView, className: "flex-1 flex items-center gap-1 px-2 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RotateCcw, { className: "w-3 h-3" }), "Reset"] }), (0, jsx_runtime_1.jsxs)("button", { onClick: zoomIn, disabled: !canZoomIn, className: "flex-1 flex items-center gap-1 px-2 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ZoomIn, { className: "w-3 h-3" }), "Zoom In"] })] })] }), (0, jsx_runtime_1.jsxs)("button", { onClick: handleResetAll, className: "w-full flex items-center gap-2 px-3 py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg hover:bg-red-100 transition-colors text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RotateCcw, { className: "w-4 h-4" }), "Reset All"] }), (0, jsx_runtime_1.jsxs)("button", { onClick: handleFullscreenToggle, className: "w-full flex items-center gap-2 px-3 py-2 bg-green-50 text-green-600 border border-green-200 rounded-lg hover:bg-green-100 transition-colors text-sm", children: [isMobileFullscreen ? ((0, jsx_runtime_1.jsx)(lucide_react_1.Minimize2, { className: "w-4 h-4" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.Maximize2, { className: "w-4 h-4" })), isMobileFullscreen ? 'Exit Fullscreen' : 'Enter Fullscreen'] })] })] })), isOpen && ((0, jsx_runtime_1.jsx)("div", { className: "fixed inset-0 z-40 bg-black bg-opacity-10", onClick: function () { return setIsOpen(false); } }))] }));
};
exports.DashboardFAB = DashboardFAB;
