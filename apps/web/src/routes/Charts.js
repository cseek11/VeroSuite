"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var jsx_runtime_1 = require("react/jsx-runtime");
var react_1 = require("react");
var react_query_1 = require("@tanstack/react-query");
var recharts_1 = require("recharts");
var lucide_react_1 = require("lucide-react");
// Real data will be fetched from API
var COLORS = {
    primary: '#6366F1',
    success: '#10B981',
    warning: '#F59E0B',
    danger: '#EF4444',
    purple: '#8B5CF6',
    gray: '#6B7280',
    indigo: '#6366F1',
    emerald: '#10B981',
    amber: '#F59E0B',
    rose: '#EF4444',
    violet: '#8B5CF6'
};
// Default data structure for charts
var defaultData = {
    kpis: {
        revenue: 0,
        pipeline: 0,
        newCustomers: 0,
        retention: 0,
        avgCloseDays: 0,
        deltas: { revenue: 0, pipeline: 0, newCustomers: 0, retention: 0 }
    },
    sales: {
        revenueTrend: [],
        dealsByRep: [],
        funnel: []
    },
    support: {
        tickets: [],
        resolutionTrend: [],
        topIssues: []
    },
    customers: {
        segments: [],
        nps: 0,
        atRisk: 0
    },
    marketing: {
        leadSources: [],
        topCampaign: { name: '', roas: 0 },
        cpa: 0
    }
};
var ChartsPage = function () {
    var _a, _b;
    var _c = (0, react_1.useState)('30d'), dateRange = _c[0], setDateRange = _c[1];
    var _d = (0, react_1.useState)('all'), teamFilter = _d[0], setTeamFilter = _d[1];
    // Fetch analytics data from API
    var _e = (0, react_query_1.useQuery)({
        queryKey: ['analytics', dateRange, teamFilter],
        queryFn: function () { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                // TODO: Replace with actual API calls when analytics endpoints are available
                // For now, return default empty data structure
                return [2 /*return*/, defaultData];
            });
        }); },
    }).data, analyticsData = _e === void 0 ? defaultData : _e;
    var formatCurrency = function (value) {
        return new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
        }).format(value);
    };
    var formatPercentage = function (value) {
        return "".concat((value * 100).toFixed(1), "%");
    };
    var getDeltaIcon = function (delta) {
        return delta >= 0 ? ((0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-4 w-4 text-emerald-600" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.TrendingDown, { className: "h-4 w-4 text-rose-600" }));
    };
    var funnelStages = (0, react_1.useMemo)(function () { var _a, _b; return (_b = (_a = analyticsData.sales) === null || _a === void 0 ? void 0 : _a.funnel) !== null && _b !== void 0 ? _b : []; }, [(_a = analyticsData.sales) === null || _a === void 0 ? void 0 : _a.funnel]);
    var topIssues = (0, react_1.useMemo)(function () { var _a, _b; return (_b = (_a = analyticsData.support) === null || _a === void 0 ? void 0 : _a.topIssues) !== null && _b !== void 0 ? _b : []; }, [(_b = analyticsData.support) === null || _b === void 0 ? void 0 : _b.topIssues]);
    return ((0, jsx_runtime_1.jsxs)("div", { className: "min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-1", children: "Analytics Dashboard" }), (0, jsx_runtime_1.jsx)("p", { className: "text-slate-600 text-sm", children: "Executive insights and performance metrics across all departments" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsxs)("button", { className: "bg-white/80 backdrop-blur-sm border border-slate-200 text-slate-700 px-3 py-1.5 rounded-lg hover:bg-white hover:shadow-lg transition-all duration-200 flex items-center gap-2 font-medium text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Download, { className: "h-3 w-3" }), "Export"] }), (0, jsx_runtime_1.jsxs)("button", { className: "bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-3 py-1.5 rounded-lg hover:from-indigo-700 hover:to-purple-700 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2 font-medium text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "h-3 w-3" }), "New Report"] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 flex-wrap", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-indigo-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "h-3 w-3 text-indigo-600" }) }), (0, jsx_runtime_1.jsxs)("select", { value: dateRange, onChange: function (e) { return setDateRange(e.target.value); }, className: "border border-slate-200 rounded-lg px-2 py-1.5 min-w-[120px] bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-sm", children: [(0, jsx_runtime_1.jsx)("option", { value: "7d", children: "Last 7 Days" }), (0, jsx_runtime_1.jsx)("option", { value: "30d", children: "Last 30 Days" }), (0, jsx_runtime_1.jsx)("option", { value: "90d", children: "Last 90 Days" }), (0, jsx_runtime_1.jsx)("option", { value: "ytd", children: "Year to Date" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-emerald-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-3 w-3 text-emerald-600" }) }), (0, jsx_runtime_1.jsxs)("select", { value: teamFilter, onChange: function (e) { return setTeamFilter(e.target.value); }, className: "border border-slate-200 rounded-lg px-2 py-1.5 min-w-[120px] bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 text-sm", children: [(0, jsx_runtime_1.jsx)("option", { value: "all", children: "All Teams" }), (0, jsx_runtime_1.jsx)("option", { value: "sales", children: "Sales Team" }), (0, jsx_runtime_1.jsx)("option", { value: "support", children: "Support Team" }), (0, jsx_runtime_1.jsx)("option", { value: "marketing", children: "Marketing Team" })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3 mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-xl p-3 text-white relative overflow-hidden", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -translate-y-10 translate-x-10" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative z-10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1.5 bg-white/20 rounded-lg", children: (0, jsx_runtime_1.jsx)(lucide_react_1.DollarSign, { className: "h-5 w-5" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [getDeltaIcon(analyticsData.kpis.deltas.revenue), (0, jsx_runtime_1.jsxs)("span", { className: "text-xs font-semibold bg-white/20 px-1.5 py-0.5 rounded-md", children: ["+", analyticsData.kpis.deltas.revenue, "%"] })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "text-xl font-bold mb-1", children: formatCurrency(analyticsData.kpis.revenue) }), (0, jsx_runtime_1.jsx)("div", { className: "text-blue-100 font-medium text-xs", children: "Monthly Revenue" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-xl p-4 text-white relative overflow-hidden", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative z-10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-2 bg-white/20 rounded-lg", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Target, { className: "h-6 w-6" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [getDeltaIcon(analyticsData.kpis.deltas.pipeline), (0, jsx_runtime_1.jsxs)("span", { className: "text-xs font-semibold bg-white/20 px-2 py-1 rounded-md", children: [analyticsData.kpis.deltas.pipeline, "%"] })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold mb-1", children: formatCurrency(analyticsData.kpis.pipeline) }), (0, jsx_runtime_1.jsx)("div", { className: "text-emerald-100 font-medium text-sm", children: "Pipeline Value" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl shadow-xl p-4 text-white relative overflow-hidden", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative z-10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-2 bg-white/20 rounded-lg", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "h-6 w-6" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [getDeltaIcon(analyticsData.kpis.deltas.newCustomers), (0, jsx_runtime_1.jsxs)("span", { className: "text-xs font-semibold bg-white/20 px-2 py-1 rounded-md", children: ["+", analyticsData.kpis.deltas.newCustomers, "%"] })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold mb-1", children: analyticsData.kpis.newCustomers }), (0, jsx_runtime_1.jsx)("div", { className: "text-violet-100 font-medium text-sm", children: "New Customers" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl shadow-xl p-4 text-white relative overflow-hidden", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative z-10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-2 bg-white/20 rounded-lg", children: (0, jsx_runtime_1.jsx)(lucide_react_1.UserCheck, { className: "h-6 w-6" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [getDeltaIcon(analyticsData.kpis.deltas.retention), (0, jsx_runtime_1.jsxs)("span", { className: "text-xs font-semibold bg-white/20 px-2 py-1 rounded-md", children: ["+", analyticsData.kpis.deltas.retention, "%"] })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold mb-1", children: formatPercentage(analyticsData.kpis.retention) }), (0, jsx_runtime_1.jsx)("div", { className: "text-amber-100 font-medium text-sm", children: "Retention Rate" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-rose-500 to-rose-600 rounded-xl shadow-xl p-4 text-white relative overflow-hidden", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative z-10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-2 bg-white/20 rounded-lg", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { className: "h-6 w-6" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.TrendingDown, { className: "h-4 w-4 text-emerald-300" }), (0, jsx_runtime_1.jsx)("span", { className: "text-xs font-semibold bg-white/20 px-2 py-1 rounded-md", children: "-2 days" })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold mb-1", children: analyticsData.kpis.avgCloseDays }), (0, jsx_runtime_1.jsx)("div", { className: "text-rose-100 font-medium text-sm", children: "Avg. Time to Close" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-gradient-to-br from-slate-500 to-slate-600 rounded-xl shadow-xl p-4 text-white relative overflow-hidden", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative z-10", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-between mb-3", children: (0, jsx_runtime_1.jsx)("div", { className: "p-2 bg-white/20 rounded-lg", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Activity, { className: "h-6 w-6" }) }) }), (0, jsx_runtime_1.jsx)("div", { className: "text-lg font-bold mb-3", children: "Quick Actions" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)("button", { className: "w-full text-left bg-white/20 backdrop-blur-sm text-white px-3 py-2 rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2 text-xs font-medium", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "h-3 w-3" }), "New Deal"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full text-left bg-white/20 backdrop-blur-sm text-white px-3 py-2 rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2 text-xs font-medium", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "h-3 w-3" }), "New Ticket"] })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "lg:col-span-2 space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-lg font-bold text-slate-800 mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-indigo-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-4 w-4 text-indigo-600" }) }), "Revenue Trend"] }), (0, jsx_runtime_1.jsx)("div", { style: { width: '100%', height: '250px' }, children: (0, jsx_runtime_1.jsx)(recharts_1.ResponsiveContainer, { width: "100%", height: "100%", children: (0, jsx_runtime_1.jsxs)(recharts_1.AreaChart, { data: analyticsData.sales.revenueTrend, children: [(0, jsx_runtime_1.jsx)("defs", { children: (0, jsx_runtime_1.jsxs)("linearGradient", { id: "revenueGradient", x1: "0", y1: "0", x2: "0", y2: "1", children: [(0, jsx_runtime_1.jsx)("stop", { offset: "5%", stopColor: COLORS.indigo, stopOpacity: 0.3 }), (0, jsx_runtime_1.jsx)("stop", { offset: "95%", stopColor: COLORS.indigo, stopOpacity: 0.1 })] }) }), (0, jsx_runtime_1.jsx)(recharts_1.CartesianGrid, { strokeDasharray: "3 3", stroke: "#E2E8F0" }), (0, jsx_runtime_1.jsx)(recharts_1.XAxis, { dataKey: "name", stroke: "#64748B", fontSize: 11 }), (0, jsx_runtime_1.jsx)(recharts_1.YAxis, { stroke: "#64748B", fontSize: 11 }), (0, jsx_runtime_1.jsx)(recharts_1.Tooltip, { formatter: function (value) { return [formatCurrency(Number(value)), 'Revenue']; }, labelStyle: { color: '#1E293B', fontWeight: '600' }, contentStyle: {
                                                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                                                            border: 'none',
                                                            borderRadius: '12px',
                                                            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
                                                            backdropFilter: 'blur(10px)'
                                                        } }), (0, jsx_runtime_1.jsx)(recharts_1.Area, { type: "monotone", dataKey: "revenue", stroke: COLORS.indigo, fill: "url(#revenueGradient)", strokeWidth: 3 })] }) }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-lg font-bold text-slate-800 mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-emerald-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.BarChart3, { className: "h-4 w-4 text-emerald-600" }) }), "Deals by Sales Representative"] }), (0, jsx_runtime_1.jsx)("div", { style: { width: '100%', height: '250px' }, children: (0, jsx_runtime_1.jsx)(recharts_1.ResponsiveContainer, { width: "100%", height: "100%", children: (0, jsx_runtime_1.jsxs)(recharts_1.BarChart, { data: analyticsData.sales.dealsByRep, children: [(0, jsx_runtime_1.jsx)(recharts_1.CartesianGrid, { strokeDasharray: "3 3", stroke: "#E2E8F0" }), (0, jsx_runtime_1.jsx)(recharts_1.XAxis, { dataKey: "name", stroke: "#64748B", angle: -45, textAnchor: "end", height: 60, fontSize: 10 }), (0, jsx_runtime_1.jsx)(recharts_1.YAxis, { stroke: "#64748B", fontSize: 11 }), (0, jsx_runtime_1.jsx)(recharts_1.Tooltip, { formatter: function (value, name) { return [value, name === 'deals' ? 'Deals' : 'Value']; }, labelStyle: { color: '#1E293B', fontWeight: '600' }, contentStyle: {
                                                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                                                            border: 'none',
                                                            borderRadius: '12px',
                                                            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
                                                            backdropFilter: 'blur(10px)'
                                                        } }), (0, jsx_runtime_1.jsx)(recharts_1.Bar, { dataKey: "deals", fill: COLORS.emerald, radius: [4, 4, 0, 0] }), (0, jsx_runtime_1.jsx)(recharts_1.Bar, { dataKey: "value", fill: COLORS.indigo, radius: [4, 4, 0, 0] })] }) }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-lg font-bold text-slate-800 mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-violet-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Target, { className: "h-4 w-4 text-violet-600" }) }), "Sales Pipeline"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [funnelStages.map(function (stage, index) { return ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-white rounded-lg border border-slate-100", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-5 h-5 rounded-full shadow-md", style: { backgroundColor: stage.color } }), (0, jsx_runtime_1.jsx)("span", { className: "text-base font-semibold text-slate-700", children: stage.stage })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex-1 max-w-xs", children: (0, jsx_runtime_1.jsx)("div", { className: "h-6 rounded-full transition-all duration-500 shadow-md", style: {
                                                                        backgroundColor: stage.color,
                                                                        width: "".concat(funnelStages.length > 0 && funnelStages[0] && funnelStages[0].value > 0
                                                                            ? (stage.value / funnelStages[0].value) * 100
                                                                            : 0, "%")
                                                                    } }) }), (0, jsx_runtime_1.jsx)("span", { className: "text-lg font-bold text-slate-800 min-w-[70px] text-right", children: stage.value.toLocaleString() })] })] }, index)); }), (0, jsx_runtime_1.jsx)("div", { className: "mt-6 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg border border-indigo-100", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-base font-semibold text-slate-700", children: "Conversion Rate:" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent", children: [(function () {
                                                                    var firstStage = funnelStages[0];
                                                                    var lastStage = funnelStages[funnelStages.length - 1];
                                                                    if (funnelStages.length > 0 && firstStage && firstStage.value > 0 && lastStage) {
                                                                        return ((lastStage.value / firstStage.value) * 100).toFixed(1);
                                                                    }
                                                                    return '0.0';
                                                                })(), "%"] })] }) })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-lg font-bold text-slate-800 mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-amber-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Activity, { className: "h-4 w-4 text-amber-600" }) }), "Support & Service Metrics"] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-slate-700 mb-3", children: "Resolution Time Trend" }), (0, jsx_runtime_1.jsx)("div", { style: { width: '100%', height: '200px' }, children: (0, jsx_runtime_1.jsx)(recharts_1.ResponsiveContainer, { width: "100%", height: "100%", children: (0, jsx_runtime_1.jsxs)(recharts_1.LineChart, { data: analyticsData.support.resolutionTrend, children: [(0, jsx_runtime_1.jsx)(recharts_1.CartesianGrid, { strokeDasharray: "3 3", stroke: "#E2E8F0" }), (0, jsx_runtime_1.jsx)(recharts_1.XAxis, { dataKey: "name", stroke: "#64748B", fontSize: 10 }), (0, jsx_runtime_1.jsx)(recharts_1.YAxis, { stroke: "#64748B", fontSize: 10 }), (0, jsx_runtime_1.jsx)(recharts_1.Tooltip, { contentStyle: {
                                                                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                                                                            border: 'none',
                                                                            borderRadius: '12px',
                                                                            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
                                                                            backdropFilter: 'blur(10px)'
                                                                        } }), (0, jsx_runtime_1.jsx)(recharts_1.Line, { type: "monotone", dataKey: "avg", stroke: COLORS.amber, strokeWidth: 3, dot: { fill: COLORS.amber, strokeWidth: 2, r: 4 } })] }) }) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-slate-700 mb-3", children: "Ticket Status" }), (0, jsx_runtime_1.jsx)("div", { style: { width: '100%', height: '200px' }, children: (0, jsx_runtime_1.jsx)(recharts_1.ResponsiveContainer, { width: "100%", height: "100%", children: (0, jsx_runtime_1.jsxs)(recharts_1.PieChart, { children: [(0, jsx_runtime_1.jsx)(recharts_1.Pie, { data: analyticsData.support.tickets, cx: "50%", cy: "50%", innerRadius: 40, outerRadius: 70, paddingAngle: 6, dataKey: "value", children: analyticsData.support.tickets.map(function (entry, index) { return ((0, jsx_runtime_1.jsx)(recharts_1.Cell, { fill: entry.color }, "cell-".concat(index))); }) }), (0, jsx_runtime_1.jsx)(recharts_1.Tooltip, { contentStyle: {
                                                                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                                                                            border: 'none',
                                                                            borderRadius: '12px',
                                                                            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
                                                                            backdropFilter: 'blur(10px)'
                                                                        } })] }) }) })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-lg font-bold text-slate-800 mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-emerald-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.UserCheck, { className: "h-4 w-4 text-emerald-600" }) }), "Customer Health"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-semibold text-slate-700 mb-2", children: "Customer Segments" }), (0, jsx_runtime_1.jsx)("div", { style: { width: '100%', height: '150px' }, children: (0, jsx_runtime_1.jsx)(recharts_1.ResponsiveContainer, { width: "100%", height: "100%", children: (0, jsx_runtime_1.jsxs)(recharts_1.PieChart, { children: [(0, jsx_runtime_1.jsx)(recharts_1.Pie, { data: analyticsData.customers.segments, cx: "50%", cy: "50%", innerRadius: 30, outerRadius: 55, paddingAngle: 5, dataKey: "value", children: analyticsData.customers.segments.map(function (entry, index) { return ((0, jsx_runtime_1.jsx)(recharts_1.Cell, { fill: entry.color }, "cell-".concat(index))); }) }), (0, jsx_runtime_1.jsx)(recharts_1.Tooltip, { contentStyle: {
                                                                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                                                                            border: 'none',
                                                                            borderRadius: '12px',
                                                                            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
                                                                            backdropFilter: 'blur(10px)'
                                                                        } })] }) }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-2 gap-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center p-2 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-lg border border-emerald-200", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-lg font-bold text-emerald-600 mb-1", children: analyticsData.customers.nps }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs font-medium text-emerald-700", children: "NPS Score" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center p-2 bg-gradient-to-br from-rose-50 to-rose-100 rounded-lg border border-rose-200", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-lg font-bold text-rose-600 mb-1", children: analyticsData.customers.atRisk }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs font-medium text-rose-700", children: "At Risk" })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-lg font-bold text-slate-800 mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-violet-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.BarChart3, { className: "h-4 w-4 text-violet-600" }) }), "Marketing Performance"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-semibold text-slate-700 mb-2", children: "Lead Sources" }), (0, jsx_runtime_1.jsx)("div", { style: { width: '100%', height: '150px' }, children: (0, jsx_runtime_1.jsx)(recharts_1.ResponsiveContainer, { width: "100%", height: "100%", children: (0, jsx_runtime_1.jsxs)(recharts_1.BarChart, { data: analyticsData.marketing.leadSources, layout: "horizontal", children: [(0, jsx_runtime_1.jsx)(recharts_1.CartesianGrid, { strokeDasharray: "3 3", stroke: "#E2E8F0" }), (0, jsx_runtime_1.jsx)(recharts_1.XAxis, { type: "number", stroke: "#64748B", fontSize: 10 }), (0, jsx_runtime_1.jsx)(recharts_1.YAxis, { dataKey: "name", type: "category", stroke: "#64748B", width: 70, fontSize: 10 }), (0, jsx_runtime_1.jsx)(recharts_1.Tooltip, { contentStyle: {
                                                                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                                                                            border: 'none',
                                                                            borderRadius: '12px',
                                                                            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
                                                                            backdropFilter: 'blur(10px)'
                                                                        } }), (0, jsx_runtime_1.jsx)(recharts_1.Bar, { dataKey: "value", fill: COLORS.indigo, radius: [0, 4, 4, 0] })] }) }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-2 gap-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center p-4 bg-gradient-to-br from-violet-50 to-violet-100 rounded-lg border border-violet-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-2xl font-bold text-violet-600 mb-1", children: [analyticsData.marketing.topCampaign.roas, "x"] }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs font-medium text-violet-700", children: "Top Campaign ROAS" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg border border-indigo-200", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-2xl font-bold text-indigo-600 mb-1", children: ["$", analyticsData.marketing.cpa] }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs font-medium text-indigo-700", children: "Avg. CPA" })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-white/80 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-lg font-bold text-slate-800 mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-1 bg-slate-100 rounded-md", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "h-4 w-4 text-slate-600" }) }), "Quick Drilldowns"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)("button", { className: "w-full text-left bg-gradient-to-r from-rose-50 to-rose-100 border border-rose-200 text-rose-700 px-2 py-1.5 rounded-lg hover:from-rose-100 hover:to-rose-200 transition-all duration-200 flex items-center gap-2 font-medium text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.XCircle, { className: "h-3 w-3" }), "Lost Deals Analysis"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full text-left bg-gradient-to-r from-amber-50 to-amber-100 border border-amber-200 text-amber-700 px-2 py-1.5 rounded-lg hover:from-amber-100 hover:to-amber-200 transition-all duration-200 flex items-center gap-2 font-medium text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "h-3 w-3" }), "At-risk Customers"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full text-left bg-gradient-to-r from-indigo-50 to-indigo-100 border border-indigo-200 text-indigo-700 px-2 py-1.5 rounded-lg hover:from-indigo-100 hover:to-indigo-200 transition-all duration-200 flex items-center gap-2 font-medium text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Download, { className: "h-3 w-3" }), "Export Detailed Report"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full text-left bg-gradient-to-r from-violet-50 to-violet-100 border border-violet-200 text-violet-700 px-2 py-1.5 rounded-lg hover:from-violet-100 hover:to-violet-200 transition-all duration-200 flex items-center gap-2 font-medium text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.BarChart3, { className: "h-3 w-3" }), "Performance Comparison"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full text-left bg-gradient-to-r from-emerald-50 to-emerald-100 border border-emerald-200 text-emerald-700 px-2 py-1.5 rounded-lg hover:from-emerald-100 hover:to-emerald-200 transition-all duration-200 flex items-center gap-2 font-medium text-xs", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.TrendingUp, { className: "h-3 w-3" }), "Growth Opportunities"] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-6", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-base font-semibold text-slate-700 mb-3", children: "Top Support Issues" }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: topIssues.slice(0, 3).map(function (issue, index) { return ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-white rounded-lg border border-slate-100", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm font-medium text-slate-700", children: issue.issue }), (0, jsx_runtime_1.jsx)("span", { className: "text-xs px-2 py-1 rounded-full font-semibold ".concat(issue.priority === 'high' ? 'bg-rose-100 text-rose-800' :
                                                                issue.priority === 'medium' ? 'bg-amber-100 text-amber-800' :
                                                                    'bg-slate-100 text-slate-800'), children: issue.count })] }, index)); }) })] })] })] })] })] }));
};
exports.default = ChartsPage;
