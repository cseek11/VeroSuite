<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeroField Testing Dashboard - Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen p-6">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900">VeroField Testing Dashboard</h1>
                        <p class="text-gray-600 mt-2">Comprehensive testing suite for enterprise-grade CRM application</p>
                    </div>
                    <div class="flex space-x-3">
                        <button
                            onclick="exportResults()"
                            class="flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"
                        >
                            <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                            Export Results
                        </button>
                        <button
                            onclick="runAllTests()"
                            id="runAllBtn"
                            class="flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                        >
                            <i data-lucide="play" class="w-4 h-4 mr-2"></i>
                            <span id="runAllText">Run All Tests</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Overall Status -->
            <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div id="statusIndicator" class="w-3 h-3 rounded-full bg-gray-400"></div>
                        <span id="statusText" class="text-lg font-semibold text-gray-900">
                            Overall Status: Ready to Test
                        </span>
                    </div>
                    <div class="text-sm text-gray-500">
                        Last run: <span id="lastRunTime"></span>
                    </div>
                </div>
            </div>

            <!-- Test Categories -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                <div class="bg-white rounded-lg shadow-sm p-6 cursor-pointer transition-all hover:shadow-md" onclick="toggleCategory('unit')">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div id="unit-icon" class="p-2 rounded-lg bg-gray-100 text-gray-600">
                                <i data-lucide="check-circle" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Unit Tests</h3>
                                <p class="text-sm text-gray-600">Individual component and service tests</p>
                            </div>
                        </div>
                        <div id="unit-status" class="px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                            pending
                        </div>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between text-sm">
                            <span>Total Tests:</span>
                            <span id="unit-total" class="font-medium">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Passed:</span>
                            <span id="unit-passed" class="font-medium text-green-600">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Failed:</span>
                            <span id="unit-failed" class="font-medium text-red-600">0</span>
                        </div>
                    </div>
                    <button
                        onclick="runTestCategory('unit', event)"
                        class="w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                    >
                        <i data-lucide="play" class="w-4 h-4 mr-2"></i>
                        Run Unit Tests
                    </button>
                </div>

                <div class="bg-white rounded-lg shadow-sm p-6 cursor-pointer transition-all hover:shadow-md" onclick="toggleCategory('integration')">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div id="integration-icon" class="p-2 rounded-lg bg-gray-100 text-gray-600">
                                <i data-lucide="refresh-cw" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Integration Tests</h3>
                                <p class="text-sm text-gray-600">API and service integration tests</p>
                            </div>
                        </div>
                        <div id="integration-status" class="px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                            pending
                        </div>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between text-sm">
                            <span>Total Tests:</span>
                            <span id="integration-total" class="font-medium">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Passed:</span>
                            <span id="integration-passed" class="font-medium text-green-600">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Failed:</span>
                            <span id="integration-failed" class="font-medium text-red-600">0</span>
                        </div>
                    </div>
                    <button
                        onclick="runTestCategory('integration', event)"
                        class="w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                    >
                        <i data-lucide="play" class="w-4 h-4 mr-2"></i>
                        Run Integration Tests
                    </button>
                </div>

                <div class="bg-white rounded-lg shadow-sm p-6 cursor-pointer transition-all hover:shadow-md" onclick="toggleCategory('e2e')">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div id="e2e-icon" class="p-2 rounded-lg bg-gray-100 text-gray-600">
                                <i data-lucide="play" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">E2E Tests</h3>
                                <p class="text-sm text-gray-600">End-to-end user workflow tests</p>
                            </div>
                        </div>
                        <div id="e2e-status" class="px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                            pending
                        </div>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between text-sm">
                            <span>Total Tests:</span>
                            <span id="e2e-total" class="font-medium">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Passed:</span>
                            <span id="e2e-passed" class="font-medium text-green-600">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Failed:</span>
                            <span id="e2e-failed" class="font-medium text-red-600">0</span>
                        </div>
                    </div>
                    <button
                        onclick="runTestCategory('e2e', event)"
                        class="w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                    >
                        <i data-lucide="play" class="w-4 h-4 mr-2"></i>
                        Run E2E Tests
                    </button>
                </div>

                <div class="bg-white rounded-lg shadow-sm p-6 cursor-pointer transition-all hover:shadow-md" onclick="toggleCategory('security')">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div id="security-icon" class="p-2 rounded-lg bg-gray-100 text-gray-600">
                                <i data-lucide="alert-triangle" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Security Tests</h3>
                                <p class="text-sm text-gray-600">OWASP and security compliance tests</p>
                            </div>
                        </div>
                        <div id="security-status" class="px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                            pending
                        </div>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between text-sm">
                            <span>Total Tests:</span>
                            <span id="security-total" class="font-medium">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Passed:</span>
                            <span id="security-passed" class="font-medium text-green-600">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Failed:</span>
                            <span id="security-failed" class="font-medium text-red-600">0</span>
                        </div>
                    </div>
                    <button
                        onclick="runTestCategory('security', event)"
                        class="w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                    >
                        <i data-lucide="play" class="w-4 h-4 mr-2"></i>
                        Run Security Tests
                    </button>
                </div>

                <div class="bg-white rounded-lg shadow-sm p-6 cursor-pointer transition-all hover:shadow-md" onclick="toggleCategory('performance')">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div id="performance-icon" class="p-2 rounded-lg bg-gray-100 text-gray-600">
                                <i data-lucide="clock" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Performance Tests</h3>
                                <p class="text-sm text-gray-600">Load and stress testing</p>
                            </div>
                        </div>
                        <div id="performance-status" class="px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                            pending
                        </div>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between text-sm">
                            <span>Total Tests:</span>
                            <span id="performance-total" class="font-medium">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Passed:</span>
                            <span id="performance-passed" class="font-medium text-green-600">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Failed:</span>
                            <span id="performance-failed" class="font-medium text-red-600">0</span>
                        </div>
                    </div>
                    <button
                        onclick="runTestCategory('performance', event)"
                        class="w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                    >
                        <i data-lucide="play" class="w-4 h-4 mr-2"></i>
                        Run Performance Tests
                    </button>
                </div>
            </div>

            <!-- Live Logs -->
            <div class="bg-white rounded-lg shadow-sm p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-semibold text-gray-900">Live Test Logs</h3>
                    <button
                        onclick="clearLogs()"
                        class="text-gray-400 hover:text-gray-600"
                    >
                        <i data-lucide="refresh-cw" class="w-5 h-5"></i>
                    </button>
                </div>
                <div id="logs" class="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm h-64 overflow-y-auto">
                    <div class="text-gray-500">No logs yet. Run tests to see live updates.</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Test data
        const testTemplates = {
            unit: [
                'Button Component Rendering',
                'Input Validation',
                'Form Submission',
                'Error Handling',
                'Loading States',
                'User Interactions',
                'Accessibility Tests',
                'Responsive Design',
            ],
            integration: [
                'API Authentication',
                'Database Connections',
                'Service Integration',
                'Data Validation',
                'Error Recovery',
                'Transaction Handling',
                'Cache Management',
                'External API Calls',
            ],
            e2e: [
                'User Login Flow',
                'Customer Creation',
                'Work Order Management',
                'Search Functionality',
                'Navigation Tests',
                'Form Workflows',
                'Data Persistence',
                'Error Scenarios',
            ],
            security: [
                'OWASP Top 10 Validation',
                'SQL Injection Prevention',
                'XSS Protection',
                'CSRF Protection',
                'Authentication Security',
                'Authorization Checks',
                'Data Encryption',
                'Session Management',
            ],
            performance: [
                'Load Testing',
                'Stress Testing',
                'Memory Usage',
                'Response Times',
                'Throughput Testing',
                'Concurrent Users',
                'Database Performance',
                'API Performance',
            ],
        };

        let isRunning = false;
        let selectedCategory = null;

        function addLog(message) {
            const logs = document.getElementById('logs');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = 'mb-1';
            logEntry.textContent = `${timestamp}: ${message}`;
            logs.appendChild(logEntry);
            logs.scrollTop = logs.scrollHeight;
        }

        function updateStatus(category, status, passed = 0, failed = 0, total = 0) {
            const statusEl = document.getElementById(`${category}-status`);
            const iconEl = document.getElementById(`${category}-icon`);
            const passedEl = document.getElementById(`${category}-passed`);
            const failedEl = document.getElementById(`${category}-failed`);
            const totalEl = document.getElementById(`${category}-total`);

            statusEl.textContent = status;
            statusEl.className = `px-2 py-1 rounded-full text-xs font-medium ${
                status === 'running' ? 'bg-blue-100 text-blue-600' :
                status === 'completed' ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-600'
            }`;

            iconEl.className = `p-2 rounded-lg ${
                status === 'running' ? 'bg-blue-100 text-blue-600' :
                status === 'completed' ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-600'
            }`;

            passedEl.textContent = passed;
            failedEl.textContent = failed;
            totalEl.textContent = total;
        }

        function updateOverallStatus(status) {
            const indicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('statusText');
            const lastRunTime = document.getElementById('lastRunTime');

            indicator.className = `w-3 h-3 rounded-full ${
                status === 'running' ? 'bg-blue-500 animate-pulse' :
                status === 'completed' ? 'bg-green-500' : 'bg-gray-400'
            }`;

            statusText.textContent = `Overall Status: ${
                status === 'running' ? 'Running Tests' :
                status === 'completed' ? 'Tests Completed' : 'Ready to Test'
            }`;

            if (status === 'completed') {
                lastRunTime.textContent = new Date().toLocaleString();
            }
        }

        async function runTestCategory(categoryId, event) {
            if (event) event.stopPropagation();
            
            if (isRunning) return;

            const category = categoryId;
            const tests = testTemplates[category] || [];
            
            addLog(`Starting ${category} tests...`);
            updateStatus(category, 'running');
            updateOverallStatus('running');

            // Simulate test execution
            for (let i = 0; i < tests.length; i++) {
                await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
                
                const passed = Math.random() > 0.1;
                const status = passed ? 'passed' : 'failed';
                
                addLog(`${tests[i]}: ${status.toUpperCase()}`);
                
                // Update counts
                const currentPassed = parseInt(document.getElementById(`${category}-passed`).textContent);
                const currentFailed = parseInt(document.getElementById(`${category}-failed`).textContent);
                
                if (passed) {
                    updateStatus(category, 'running', currentPassed + 1, currentFailed, i + 1);
                } else {
                    updateStatus(category, 'running', currentPassed, currentFailed + 1, i + 1);
                }
            }

            updateStatus(category, 'completed');
            addLog(`${category} tests completed successfully`);
        }

        async function runAllTests() {
            if (isRunning) return;

            isRunning = true;
            const runAllBtn = document.getElementById('runAllBtn');
            const runAllText = document.getElementById('runAllText');
            
            runAllBtn.disabled = true;
            runAllText.textContent = 'Running Tests...';
            
            clearLogs();
            addLog('Starting comprehensive test suite...');

            const categories = ['unit', 'integration', 'e2e', 'security', 'performance'];
            
            for (const category of categories) {
                await runTestCategory(category);
                await new Promise(resolve => setTimeout(resolve, 1000));
            }

            updateOverallStatus('completed');
            addLog('All tests completed!');
            
            isRunning = false;
            runAllBtn.disabled = false;
            runAllText.textContent = 'Run All Tests';
        }

        function toggleCategory(categoryId) {
            // This would show detailed test results
            console.log(`Toggling category: ${categoryId}`);
        }

        function clearLogs() {
            const logs = document.getElementById('logs');
            logs.innerHTML = '<div class="text-gray-500">No logs yet. Run tests to see live updates.</div>';
        }

        function exportResults() {
            const results = {
                timestamp: new Date().toISOString(),
                categories: ['unit', 'integration', 'e2e', 'security', 'performance'].map(category => ({
                    name: category,
                    status: document.getElementById(`${category}-status`).textContent,
                    totalTests: parseInt(document.getElementById(`${category}-total`).textContent),
                    passedTests: parseInt(document.getElementById(`${category}-passed`).textContent),
                    failedTests: parseInt(document.getElementById(`${category}-failed`).textContent),
                })),
            };

            const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `test-results-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Initialize
        document.getElementById('lastRunTime').textContent = new Date().toLocaleString();
    </script>
</body>
</html>






