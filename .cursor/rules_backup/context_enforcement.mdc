# Context Enforcement Rules (Auto-Generated)

**Last Updated:** 2025-12-02 04:57:01 UTC

## ⚠️ MANDATORY: Context Management Requirements

**CRITICAL:** The AI agent MUST follow these requirements at EVERY task start and end.

### Task Start Requirements (MANDATORY)

**BEFORE starting ANY task, the AI agent MUST:**

1. **MUST** read `.cursor/context_manager/recommendations.md` (use `read_file` tool)
2. **MUST** check `.cursor/context_manager/dashboard.md` for current workflow status
3. **MUST** check for `.cursor/rules/SESSION_RESTART_REQUIRED.mdc` (if present, inform user)
4. **MUST** check if task is assigned (check recommendations.md for "NO TASK ASSIGNED YET" or "Waiting for task assignment")
5. **IF NO TASK ASSIGNED:**
   - **DO NOT** load task-specific context (Python Bible, etc.)
   - **DO NOT** pre-load predicted context
   - **SKIP** context loading until task is assigned
   - **LOG:** "No task assigned - skipping context loading"
6. **IF TASK IS ASSIGNED:**
   - **MUST** load PRIMARY context files using `@` mentions:
     - Load all files listed in "Dynamic Context (Load These)" section
     - Core context files are already loaded - no @ mention needed
     - Use format: `@filename` or `@path/to/file`
   - **MUST** verify context is loaded before proceeding to Step 1
   - **MUST** log context loading actions in response

**VERIFICATION:** Agent must show evidence of:
- Reading recommendations.md
- Checking for session restart requirement
- Checking if task is assigned
- Loading primary context files (if task assigned) OR skipping (if no task assigned)
- Confirming context is ready (if task assigned) OR confirming no task assigned

### Task End Requirements (MANDATORY)

**AFTER completing ANY task (before Step 5 audit), the AI agent MUST:**

1. **MUST** read `.cursor/context_manager/recommendations.md` again (context may have changed)
2. **MUST** unload context files that are no longer needed:
   - Check "Context to Unload" section in recommendations
   - Remove `@` mentions for files no longer relevant
3. **MUST** pre-load context for predicted next tasks (if probability >70%):
   - Load files from "Pre-loaded Context" section
   - Use format: `@filename` or `@path/to/file`
4. **MUST** update context state in response
5. **MUST** log context unloading/pre-loading actions

**VERIFICATION:** Agent must show evidence of:
- Reading updated recommendations.md
- Unloading obsolete context
- Pre-loading predicted context
- Confirming context state updated

### Context Loading Format

**Required format for context loading/unloading:**

```
## Context Management Actions

### Task Start (Step 0.5):
✓ Read recommendations.md: [summary]
✓ Checked for session restart requirement: [YES/NO]
✓ Task assigned: [YES/NO]
✓ If YES, loaded PRIMARY context (dynamic):
  - @file1.md
  - @file2.md
✓ If NO, skipped context loading (no task assigned)
✓ Core context already loaded (automatic)
✓ Context ready for task (or waiting for task assignment)

### Task End (Step 4.5):
✓ Read updated recommendations.md: [summary]
✓ Unloaded obsolete context:
  - @old-file1.md (no longer needed)
✓ Pre-loaded predicted context:
  - @next-file1.md (87% confidence)
✓ Context state updated
```

## Context Priorities

This file is automatically generated by the Predictive Context Management System.
It provides dynamic context priorities based on current workflow predictions.

### Core Context (Already Loaded - Automatic)

These files are automatically loaded via rule files - no @ mention needed:

- No core context files.

### Dynamic Context (Load These - REQUIRED)

These files MUST be loaded with @ mentions for the current task:

- No dynamic context files required.

### Pre-loaded Context (Medium Priority) - LOAD FOR NEXT TASKS

These files should be pre-loaded for predicted next tasks (load if probability >70%):

- No pre-loaded context files.

## Integration with Enforcement Pipeline

**Step 0.5 (NEW): Context Loading (MANDATORY)**
- Inserted between Step 0 (Memory Bank) and Step 1 (Search & Discovery)
- Agent MUST complete context loading before proceeding to Step 1
- Agent MUST check for session restart requirement

**Step 4.5 (NEW): Context Management (MANDATORY)**
- Inserted between Step 4 (Implementation Plan) and Step 5 (Post-Implementation Audit)
- Agent MUST complete context unloading/pre-loading before Step 5

## Failure to Comply

**HARD STOP:** If agent does not:
- Read recommendations.md at task start/end
- Check for session restart requirement
- Check if task is assigned before loading context
- Load required PRIMARY context files (dynamic) **ONLY IF TASK IS ASSIGNED**
- Unload obsolete context files
- Pre-load predicted context files

**Then:** Task execution is BLOCKED until context management is completed.

**CRITICAL:** Do NOT load context if recommendations.md shows "NO TASK ASSIGNED YET". Wait for task assignment first.

---
*This file is auto-generated. Do not edit manually.*
