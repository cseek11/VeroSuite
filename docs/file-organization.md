---
# Cursor Rule Metadata
version: 1.0
project: VeroField
scope:
  - all
priority: critical
last_updated: 2025-12-05
always_apply: true
---

# PRIORITY: CRITICAL - File Organization Rules

## Overview

This rule file establishes comprehensive file organization standards for ALL directories in the VeroField project. It prevents scattered documentation and files, ensures consistent organization, and maintains a clean, maintainable project structure.

**⚠️ MANDATORY:** All files MUST be placed in their designated directories according to these rules. No exceptions.

---

## PRIORITY: CRITICAL - Root Directory Rules

### Files Allowed in Root Directory

**ONLY** the following files may remain in the project root:

**Required Files:**
- `README.md` - Project overview and setup (required by GitHub/GitLab)

**Configuration Files:**
- `package.json` - Root package configuration
- `package-lock.json` - Dependency lock file
- `.gitignore` - Git ignore rules
- `.gitattributes` - Git attributes
- `tsconfig.json` - TypeScript configuration (if at root)
- `nest-cli.json` - NestJS CLI configuration (if at root)
- `.cursorrules` - Cursor AI rules (legacy, if exists)
- `.cursor/` - Cursor AI rules directory

**Prohibited in Root:**
- ❌ Any `.md` files except `README.md`
- ❌ Any `.txt`, `.docx`, `.doc`, `.pdf` files
- ❌ Any SQL scripts (`.sql` files)
- ❌ Any images/videos (`.png`, `.jpg`, `.mp4`, etc.)
- ❌ Any test outputs or reports
- ❌ Any temporary files
- ❌ Any source code files (except config files)
- ❌ Any documentation files

**MANDATORY:** If you find prohibited files in root, move them to appropriate directories immediately.

---

## PRIORITY: HIGH - Directory-Specific Organization Rules

### Documentation Directories

#### `docs/`
**Purpose:** All project documentation

**Organization:** See `.cursor/rules/docs.md` for complete documentation structure.

**Key Subdirectories:**
- `docs/reference/` - Essential reference documentation
- `docs/guides/` - How-to guides and tutorials
- `docs/architecture/` - System design documents
- `docs/planning/` - Development plans and roadmaps
- `docs/archive/` - Historical documentation
- `docs/developer/` - Developer tools, checklists, handoffs
- `docs/examples/` - Code examples
- `docs/contracts/` - Data contract documentation
- `docs/state-machines/` - State machine documentation

**MANDATORY:** All `.md` files (except `README.md`) must be in `docs/` subdirectories.

### Temporary/Progress Tracking Directories

#### `CurrentProgress/`
**Current Status:** Contains SQL scripts, markdown reports, testing summaries

**Action Required:** Archive to `docs/archive/progress/`

**File Organization:**
- SQL scripts → `docs/archive/migrations/` or `supabase/migrations/`
- Markdown reports → `docs/archive/reports/`
- Testing summaries → `docs/archive/test-results/`

**MANDATORY:** This directory should be empty after organization. All files must be moved to appropriate archive locations.

#### `DEVELOPER_TICKETS/`
**Current Status:** Contains developer tickets, phase progress reports

**Action Required:** Archive to `docs/archive/tickets/` or `docs/developer/tickets/`

**File Organization:**
- Phase progress reports → `docs/archive/progress/`
- Status updates → `docs/archive/reports/`
- Ticket files → `docs/archive/tickets/` or `docs/developer/tickets/`

**MANDATORY:** This directory should be empty after organization.

### Asset Directories

#### `Context/`
**Current Status:** Contains images, videos, screenshots

**Action Required:** Move to `branding/assets/context/` or organize by type

**File Organization:**
- Images (`.png`, `.jpg`, etc.) → `branding/assets/images/` or `branding/assets/context/images/`
- Videos (`.mp4`, `.mov`, etc.) → `branding/assets/videos/` or `branding/assets/context/videos/`
- Screenshots → `branding/assets/screenshots/` or `branding/assets/context/screenshots/`

**MANDATORY:** All media files must be in `branding/assets/` subdirectories, not in root-level `Context/`.

#### `branding/`
**Purpose:** Branding assets and design resources

**Organization:**
- `branding/logos/` - Logo files
- `branding/images/` - General images
- `branding/videos/` - Video assets
- `branding/fonts/` - Font files (if applicable)
- `branding/assets/` - Other assets (context files, etc.)

**MANDATORY:** Organize by asset type. No loose files in `branding/` root.

### Test Output Directories

#### `Test_Results/`
**Purpose:** Test execution results and reports

**Action Required:** Auto-cleanup or archive to `docs/archive/test-results/`

**Rules:**
- Should be gitignored (add to `.gitignore`)
- Archive only if needed for historical reference
- Auto-generated files should be cleaned up regularly

**MANDATORY:** Test results should not be committed to repository unless specifically needed for documentation.

#### `coverage/`
**Purpose:** Test coverage reports

**Rules:**
- Must be gitignored (auto-generated only)
- No manual files should be placed here
- Generated by test runners automatically

**MANDATORY:** This directory is for auto-generated files only. Never commit coverage reports unless required.

### Configuration Directories

#### `deploy/`
**Purpose:** Deployment configurations and infrastructure as code

**Organization:**
- `deploy/dev/` - Development environment configs
- `deploy/staging/` - Staging environment configs
- `deploy/prod/` - Production environment configs
- `deploy/shared/` - Common deployment configs

**MANDATORY:** Organize by environment. No loose config files in `deploy/` root.

#### `.github/`
**Purpose:** GitHub Actions workflows and templates

**Rules:**
- Keep as-is (standard GitHub location)
- Workflows go in `.github/workflows/`
- Templates go in `.github/ISSUE_TEMPLATE/` or `.github/PULL_REQUEST_TEMPLATE/`

**MANDATORY:** This is a standard location. Do not move or reorganize.

#### `supabase/`
**Purpose:** Supabase configuration and migrations

**Rules:**
- Keep as-is (standard Supabase location)
- Migrations go in `supabase/migrations/`
- Config files in `supabase/` root

**MANDATORY:** This is a standard location. Do not move or reorganize.

### Script Directories

#### `scripts/`
**Purpose:** Automation and utility scripts

**Organization:**
- `scripts/docs/` - Documentation organization scripts
- `scripts/deployment/` - Deployment automation scripts
- `scripts/testing/` - Test automation scripts
- `scripts/database/` - Database management scripts
- `scripts/` (root) - General utility scripts

**MANDATORY:** Organize scripts by purpose. Keep root `scripts/` minimal.

### Other Directories

#### `shared/`
**Purpose:** Shared code (if exists)

**Rules:**
- Should follow monorepo structure (see `.cursor/rules/monorepo.md`)
- May be migrated to `libs/common/` if applicable

#### `tests/`
**Purpose:** Test files and test utilities

**Rules:**
- Test files should be co-located with source code (e.g., `__tests__/` directories)
- Shared test utilities → `libs/common/src/testing/`
- Integration tests → Appropriate service directories

#### `verofield-website/`
**Purpose:** Website project (if separate)

**Rules:**
- Keep as separate project if needed
- Follow standard web project structure
- Do not mix with main application code

#### `VeroSuiteMobile/` or `VeroFieldMobile/`
**Purpose:** React Native mobile application

**Rules:**
- Keep as separate project
- Follow React Native project structure
- Should be renamed to `VeroFieldMobile/` per naming-consistency rules

---

## PRIORITY: HIGH - File Type Categorization Rules

### Documentation Files

**Markdown Files (`.md`):**
- All `.md` files → `docs/` subdirectories (per `.cursor/rules/docs.md`)
- Exception: `README.md` in root (required)
- Exception: `README.md` files in subdirectories (allowed for directory documentation)

**Text Files (`.txt`):**
- Documentation text files → `docs/archive/misc/`
- Configuration text files → Appropriate config directories
- Temporary text files → Clean up or archive

**Office Documents (`.docx`, `.doc`, `.pdf`):**
- Documentation PDFs → `docs/archive/misc/`
- Word documents → `docs/archive/misc/`
- Should be converted to markdown when possible

### Code Files

**SQL Scripts (`.sql`):**
- Migration scripts → `supabase/migrations/` or `docs/archive/migrations/`
- Database setup scripts → `supabase/` or `scripts/database/`
- Test SQL files → Co-located with tests

**Source Code:**
- Follow monorepo structure (see `.cursor/rules/monorepo.md`)
- Backend → `apps/api/src/` or appropriate service
- Frontend → `frontend/src/`
- Shared → `libs/common/src/`

### Asset Files

**Images (`.png`, `.jpg`, `.jpeg`, `.gif`, `.svg`):**
- Branding images → `branding/assets/images/`
- Documentation images → `docs/assets/images/`
- Screenshots → `branding/assets/screenshots/`

**Videos (`.mp4`, `.mov`, `.avi`, etc.):**
- Branding videos → `branding/assets/videos/`
- Documentation videos → `docs/assets/videos/`
- Demo videos → `branding/assets/demos/`

**Fonts:**
- Font files → `branding/fonts/`

### Configuration Files

**Environment Files (`.env*`):**
- Root `.env.example` → Root (template only)
- Service-specific → Service directories
- Never commit `.env` files with secrets

**Config Files (`.json`, `.yml`, `.yaml`):**
- Root configs → Root (if required)
- Service configs → Service directories
- Deployment configs → `deploy/` subdirectories

### Test Output Files

**Test Results:**
- Test reports → `docs/archive/test-results/` (if keeping)
- Coverage reports → `coverage/` (gitignored, auto-generated)
- Test artifacts → Clean up or archive

**MANDATORY:** Test outputs should be gitignored and cleaned up regularly.

### Temporary Files

**Temporary Files:**
- Progress tracking → Archive to `docs/archive/progress/`
- Scratch files → Clean up immediately
- Backup files → Archive or remove

**MANDATORY:** No temporary files should remain in root or scattered across directories.

---

## PRIORITY: HIGH - Automation and Enforcement

### Organization Scripts

**Available Scripts:**
- `scripts/organize-documentation.ps1` - Organize markdown documentation files
- `scripts/organize-all-files.ps1` - Comprehensive file organization (all types)
- `scripts/cleanup-temporary-files.ps1` - Clean up temporary files
- `scripts/validate-file-organization.ps1` - Validate file organization compliance

**MANDATORY:** Run organization scripts before committing file structure changes.

### Pre-Commit Validation

**MANDATORY:** Before committing, verify:
- No prohibited files in root
- All files in correct directories
- No temporary files left behind
- Test outputs are gitignored

### CI/CD Integration

**MANDATORY:** CI/CD should validate file organization:
- Run `scripts/validate-file-organization.ps1`
- Fail build if violations found
- Report violations clearly

---

## PRIORITY: MEDIUM - Migration and Cleanup

### Existing Files

**MANDATORY:** All existing files must be organized according to these rules:

1. Run `scripts/organize-all-files.ps1` to organize all files
2. Run `scripts/cleanup-temporary-files.ps1` to clean temporary files
3. Verify with `scripts/validate-file-organization.ps1`
4. Update any broken references

### Directory Cleanup

**Directories to Archive/Remove:**
- `CurrentProgress/` → Archive contents, remove directory
- `DEVELOPER_TICKETS/` → Archive contents, remove directory
- `Context/` → Move contents, remove directory
- `Test_Results/` → Clean up or archive, ensure gitignored

**MANDATORY:** After organization, these directories should be empty or removed.

---

## Integration with Other Rules

### Related Rule Files

- `.cursor/rules/docs.md` - Documentation organization (subset of file organization)
- `.cursor/rules/monorepo.md` - Monorepo structure and code organization
- `.cursor/rules/naming-consistency.md` - File and directory naming standards
- `.cursor/rules/core.md` - Core philosophy and mandatory procedures
- `.cursor/rules/enforcement.md` - Enforcement checklist

**MANDATORY:** File organization rules work in conjunction with all other rules. All rules must be followed.

---

## Violations

**HARD STOP violations:**
- Prohibited files in root directory
- Files in wrong directories
- Temporary files not cleaned up
- Test outputs committed to repository

**Must fix before proceeding:**
- Scattered documentation files
- Unorganized asset files
- Configuration files in wrong locations
- Duplicate files across directories

---

## Verification Checklist

Before committing file changes, verify:

- [ ] No prohibited files in root (except allowed files)
- [ ] All documentation files in `docs/` subdirectories
- [ ] All assets in `branding/assets/` or `docs/assets/`
- [ ] All configs in appropriate directories
- [ ] Test outputs are gitignored
- [ ] Temporary files cleaned up
- [ ] No duplicate files
- [ ] All references updated after file moves

---

**Last Updated:** 2025-12-05  
**Status:** Active Enforcement  
**Priority:** CRITICAL - Must be followed for every file operation

